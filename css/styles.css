// Theme toggle functionality
const themeToggle = document.getElementById('theme-toggle');
const body = document.body;
let isDarkMode = localStorage.getItem('theme') === 'light' ? false : true;

function applyTheme() {
  if (isDarkMode) {
    body.setAttribute('data-theme', 'dark');
    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
    localStorage.setItem('theme', 'dark');
  } else {
    body.setAttribute('data-theme', 'light');
    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
    localStorage.setItem('theme', 'light');
  }
}

themeToggle.addEventListener('click', () => {
  isDarkMode = !isDarkMode;
  applyTheme();
});

// Initialize theme
applyTheme();

// Update current time on all pages
function updateClock() {
  const now = new Date();
  const timeElements = document.querySelectorAll('#digital-clock');
  const dateElements = document.querySelectorAll('#date-display');
  
  if (timeElements.length > 0) {
    const options = { 
      timeZone: 'Asia/Kolkata',
      hour12: true,
      hour: 'numeric',
      minute: 'numeric',
      second: 'numeric'
    };
    const timeString = now.toLocaleTimeString('en-IN', options);
    timeElements.forEach(el => el.textContent = timeString);
  }
  
  if (dateElements.length > 0) {
    const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const dateString = now.toLocaleDateString('en-IN', dateOptions);
    dateElements.forEach(el => el.textContent = dateString);
  }
}

// Update time immediately and then every second
updateClock();
setInterval(updateClock, 1000);
